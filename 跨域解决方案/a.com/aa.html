<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>


    <script type="text/javascript">
        window.onload=function(){

            var state = 0,
                    iframe = document.createElement('iframe'),
                    loadfn = function() {
                        if (state === 1) {
                            var data = iframe.contentWindow.name;    // 读取数据
                            alert(data);    //弹出'I was there!'
                        } else if (state === 0) {
                            state = 1;
                            iframe.contentWindow.location = "http://www.a.com/proxy.html";    // 设置的代理文件
                        }
                    };
            iframe.src = 'http://www.b.com/data.html';
            if (iframe.attachEvent) {
                iframe.attachEvent('onload', loadfn);
            } else {
                iframe.onload  = loadfn;
            }
            document.body.appendChild(iframe);
        }


    </script>
</head>
<body>

</body>
</html>